/*! For license information please see bundle71cbd707bbacbc8a725f.js.LICENSE.txt */
(()=>{"use strict";var e={589:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(352),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:ital@0;1&display=swap);"]),o.push([e.id,"body {\r\n    background: #666;\r\n    font-family: 'Roboto', sans-serif;\r\n}\r\n\r\n.conteiner {\r\n    padding-top: 5rem;\r\n    width: 800px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.card {\r\n    border-radius: 6px;\r\n    background: #fff;\r\n    padding: 1rem;\r\n    box-shadow: 2px 3px 10px rgba(0, 0, 0, .2);\r\n}\r\n\r\n.btn {\r\n    color: #42b983;\r\n    position: relative;\r\n    border-radius: 99px;\r\n    border: 1px solid #42b983;\r\n    text-decoration: none;\r\n    text-transform: uppercase;\r\n    padding: 0.5rem 1.5rem;\r\n    font-weight: 700;\r\n    outline: none;\r\n    background: #fff;\r\n    transition: all 0.22s;\r\n    cursor: pointer;\r\n    margin-right: 1rem;\r\n}\r\n\r\n.btn.primary {\r\n    background: #42b983;\r\n    color: #fff;\r\n}\r\n\r\n.btn:active {\r\n    box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.btn:hover {\r\n    cursor: pointer;\r\n    opacity: 0.8;\r\n}\r\n\r\ninput[type=file] {\r\n    display: none;\r\n}\r\n\r\n.preview {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: .5rem;\r\n}\r\n\r\n.preview-image {\r\n    position: relative;\r\n    margin-bottom: .5rem;\r\n    margin-right: .5rem;\r\n    overflow: hidden;\r\n}\r\n\r\n.preview-image.removing {\r\n    transform: scale(0);\r\n    transition: transform .3s;\r\n}\r\n\r\n.preview-image img {\r\n    width: 180px;\r\n    height: auto;\r\n}\r\n\r\n.preview-image:hover .preview-remove {\r\n    opacity: 1;\r\n}\r\n\r\n.preview-image:hover .preview-info {\r\n    bottom: 4px;\r\n}\r\n\r\n.preview-remove {\r\n    opacity: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    font-weight: bold;\r\n    background: rgba(255, 255, 255, .5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: opacity .22s;\r\n\r\n}\r\n\r\n.preview-info {\r\n\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: -30px;\r\n    left: 0;\r\n    height: 24px;\r\n    font-size: .8rem;\r\n    background: rgba(255, 255, 255, .5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 5px;\r\n    transition: bottom .22s;\r\n}\r\n\r\n.preview-info-progress {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background:#42b983;\r\n    display: flex;\r\n    text-align: center;\r\n    justify-content: center;\r\n    transition: width .22s;\r\n\r\n}\r\n",""]);const i=o},352:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},701:(e,t,r)=>{var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function a(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],o=0;o<e.length;o++){var s=e[o],u=t.base?s[0]+t.base:s[0],c=r[u]||0,l="".concat(u," ").concat(c);r[u]=c+1;var p=a(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(i[p].references++,i[p].updater(f)):i.push({identifier:l,updater:g(f,t),references:1}),n.push(l)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,d=0;function g(e,t){var r,n,o;if(t.singleton){var i=d++;r=h||(h=u(t)),n=p.bind(null,r,i,!1),o=p.bind(null,r,i,!0)}else r=u(t),n=f.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=a(r[n]);i[o].references--}for(var u=s(e,t),c=0;c<r.length;c++){var l=a(r[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}r=u}}}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(701),t=r.n(e),n=r(589);t()(n.Z,{insert:"head",singleton:!1}),n.Z.locals;var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function u(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function p(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=f(e[r],t[r]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))}return e.prototype.wrapCallback=function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}},e}();function d(){try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}var g=function(e){function t(r,n,o){var i=e.call(this,n)||this;return i.code=r,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return i(t,e),t}(Error),v=function(){function e(e,t,r){this.service=e,this.serviceName=t,this.errors=r}return e.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?m(i,n):"Error",s=this.serviceName+": "+a+" ("+o+").",u=new g(o,s,n);return u},e}();function m(e,t){return e.replace(_,(function(e,r){var n=t[r];return null!=n?String(n):"<"+r+"?>"}))}var _=/\{\$([^}]+)}/g;function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){var r=new w(e,t);return r.subscribe.bind(r)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var r=this.W_;if("string"==typeof e)for(var n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(n=16;n<80;n++){var o=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],p=this.chain_[4];for(n=0;n<80;n++)n<40?n<20?(i=l^u&(c^l),a=1518500249):(i=u^c^l,a=1859775393):n<60?(i=u&c|l&(u|c),a=2400959708):(i=u^c^l,a=3395469782),o=(s<<5|s>>>27)+i+p+a+r[n]&4294967295,p=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=0,o=this.buf_,i=this.inbuf_;n<t;){if(0===i)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(o[i]=e.charCodeAt(n),++n,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;n<t;)if(o[i]=e[n],++n,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[n]=this.chain_[r]>>o&255,++n;return e}}();var w=function(){function e(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,r){var n,o=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(e,t){if("object"!=typeof e||null===e)return!1;for(var r=0,n=["next","error","complete"];r<n.length;r++){var o=n[r];if(o in e&&"function"==typeof e[o])return!0}return!1}(e)?e:{next:e,error:t,complete:r}).next&&(n.next=R),void 0===n.error&&(n.error=R),void 0===n.complete&&(n.complete=R);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(e){}})),this.observers.push(n),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function R(){}var O,k=function(){function e(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),x="[DEFAULT]",E=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=x);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new h;this.instancesDeferred.set(t,r);try{var n=this.getOrInitializeService(t);n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=a({identifier:x,optional:!1},e),r=t.identifier,n=t.optional,o=this.normalizeInstanceIdentifier(r);try{var i=this.getOrInitializeService(o);if(!i){if(n)return null;throw Error("Service "+this.name+" is not available")}return i}catch(e){if(n)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(x)}catch(e){}try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),o=n.next();!o.done;o=n.next()){var i=c(o.value,2),a=i[0],s=i[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=x),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(l(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=x),this.instances.has(e)},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===x?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:x:e},e}(),T=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new E(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function S(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var P,A=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(P||(P={}));var C,I={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},U=P.INFO,L=((O={})[P.DEBUG]="log",O[P.VERBOSE]="log",O[P.INFO]="info",O[P.WARN]="warn",O[P.ERROR]="error",O),j=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(t<e.logLevel)){var o=(new Date).toISOString(),i=L[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[i].apply(console,S(["["+o+"]  "+e.name+":"],r))}},N=function(){function e(e){this.name=e,this._logLevel=U,this._logHandler=j,this._userLogHandler=null,A.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in P))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?I[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,S([this,P.DEBUG],e)),this._logHandler.apply(this,S([this,P.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,S([this,P.VERBOSE],e)),this._logHandler.apply(this,S([this,P.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,S([this,P.INFO],e)),this._logHandler.apply(this,S([this,P.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,S([this,P.WARN],e)),this._logHandler.apply(this,S([this,P.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,S([this,P.ERROR],e)),this._logHandler.apply(this,S([this,P.ERROR],e))},e}();function D(e){A.forEach((function(t){t.setLogLevel(e)}))}var B,F=((C={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",C["bad-app-name"]="Illegal App name: '{$appName}",C["duplicate-app"]="Firebase App named '{$appName}' already exists",C["app-deleted"]="Firebase App named '{$appName}' already deleted",C["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",C["invalid-log-argument"]="First argument to `onLog` must be null or a function.",C),z=new v("app","Firebase",F),M="@firebase/app",H="[DEFAULT]",q=((B={})[M]="fire-core",B["@firebase/analytics"]="fire-analytics",B["@firebase/auth"]="fire-auth",B["@firebase/database"]="fire-rtdb",B["@firebase/functions"]="fire-fn",B["@firebase/installations"]="fire-iid",B["@firebase/messaging"]="fire-fcm",B["@firebase/performance"]="fire-perf",B["@firebase/remote-config"]="fire-rc",B["@firebase/storage"]="fire-gcs",B["@firebase/firestore"]="fire-fst",B["fire-js"]="fire-js",B["firebase-wrapper"]="fire-js-all",B),G=new N("@firebase/app"),V=function(){function e(e,t,r){var n=this;this.firebase_=r,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=f(void 0,e),this.container=new T(t.name),this._addComponent(new k("app",(function(){return n}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return n._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=H),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=H),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){G.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw z.create("app-deleted",{appName:this.name_})},e}();V.prototype.name&&V.prototype.options||V.prototype.delete||console.log("dc");var W=function e(){var t=function(e){var t={},r=new Map,n={__esModule:!0,initializeApp:function(r,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var i=o;void 0===i.name&&(i.name=H);var a=i.name;if("string"!=typeof a||!a)throw z.create("bad-app-name",{appName:String(a)});if(b(t,a))throw z.create("duplicate-app",{appName:a});var s=new e(r,i,n);return t[a]=s,s},app:o,registerVersion:function(e,t,r){var n,o=null!==(n=q[e])&&void 0!==n?n:e;r&&(o+="-"+r);var a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+o+'" with version "'+t+'":'];return a&&u.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void G.warn(u.join(" "))}i(new k(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:D,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw z.create("invalid-log-argument");!function(e,t){for(var r=function(r){var n=null;t&&t.level&&(n=I[t.level]),r.userLogHandler=null===e?null:function(t,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var a=o.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=n?n:t.logLevel)&&e({level:P[r].toLowerCase(),message:a,args:o,type:t.name})}},n=0,o=A;n<o.length;n++)r(o[n])}(e,t)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:i,removeApp:function(e){delete t[e]},components:r,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(!b(t,e=e||H))throw z.create("no-app",{appName:e});return t[e]}function i(i){var a=i.name;if(r.has(a))return G.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?n[a]:null;if(r.set(a,i),"PUBLIC"===i.type){var s=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[a])throw z.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==i.serviceProps&&f(s,i.serviceProps),n[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,i.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(i)}return"PUBLIC"===i.type?n[a]:null}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,n}(V);return t.INTERNAL=a(a({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){f(t,e)},createSubscribe:y,ErrorFactory:v,deepExtend:f}),t}(),X=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $=self.firebase.SDK_VERSION;$&&$.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var K=W.initializeApp;W.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d()&&G.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),K.apply(void 0,e)};var Z=W;!function(e,t){e.INTERNAL.registerComponent(new k("platform-logger",(function(e){return new X(e)}),"PRIVATE")),e.registerVersion(M,"0.6.15",void 0),e.registerVersion("fire-js","")}(Z);const Y=Z;Y.registerVersion("firebase","8.2.9","app");var J="firebasestorage.googleapis.com",Q=function(e){function t(r,n){var o=e.call(this,ee(r),"Firebase Storage: "+n+" ("+ee(r)+")")||this;return o.customData={serverResponse:null},Object.setPrototypeOf(o,t.prototype),o}return i(t,e),t.prototype._codeEquals=function(e){return ee(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(g);function ee(e){return"storage/"+e}function te(){return new Q("unknown","An unknown error occurred, please check the error payload for server response.")}function re(){return new Q("canceled","User canceled the upload/download.")}function ne(){return new Q("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function oe(e){return new Q("invalid-argument",e)}function ie(){return new Q("app-deleted","The Firebase app was deleted.")}function ae(e){return new Q("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function se(e,t){return new Q("invalid-format","String does not match format '"+e+"': "+t)}function ue(e){throw new Q("internal-error","Internal error: "+e)}var ce={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},le=function(e,t){this.data=e,this.contentType=t||null};function pe(e,t){switch(e){case ce.RAW:return new le(fe(t));case ce.BASE64:case ce.BASE64URL:return new le(he(e,t));case ce.DATA_URL:return new le((r=new ge(t)).base64?he(ce.BASE64,r.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw se(ce.DATA_URL,"Malformed data URL.")}return fe(t)}(r.rest),new ge(t).contentType)}var r;throw te()}function fe(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):55296==(64512&n)?r<e.length-1&&56320==(64512&e.charCodeAt(r+1))?(n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):t.push(239,191,189):56320==(64512&n)?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function he(e,t){switch(e){case ce.BASE64:var r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n)throw se(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case ce.BASE64URL:var o=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(o||i)throw se(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw se(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var de,ge=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw se(ce.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r,n,o=t[1]||null;null!=o&&(this.base64=(n=";base64",(r=o).length>=n.length&&r.substring(r.length-n.length)===n),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)},ve={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function me(e){switch(e){case"running":case"pausing":case"canceling":return ve.RUNNING;case"paused":return ve.PAUSED;case"success":return ve.SUCCESS;case"canceled":return ve.CANCELED;case"error":default:return ve.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(de||(de={}));var _e=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=de.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=de.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=de.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,r,n){if(this.sent_)throw ue("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==n)for(var o in n)n.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,n[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ue("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ue("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ue("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),be=function(){function e(){}return e.prototype.createXhrIo=function(){return new _e},e}();function ye(e){return"string"==typeof e||e instanceof String}function we(e){return Re()&&e instanceof Blob}function Re(){return"undefined"!=typeof Blob}function Oe(e,t,r,n){if(n<t)throw oe("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n>r)throw oe("Invalid value for '"+e+"'. Expected "+r+" or less.")}function ke(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ke();if(void 0!==r){for(var n=new r,o=0;o<e.length;o++)n.append(e[o]);return n.getBlob()}if(Re())return new Blob(e);throw new Q("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ee=function(){function e(e,t){var r=0,n="";we(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,r){if(we(this.data_)){var n=(o=this.data_,i=t,a=r,o.webkitSlice?o.webkitSlice(i,a):o.mozSlice?o.mozSlice(i,a):o.slice?o.slice(i,a):null);return null===n?null:new e(n)}var o,i,a;return new e(new Uint8Array(this.data_.buffer,t,r-t),!0)},e.getBlob=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(Re()){var n=t.map((function(t){return t instanceof e?t.data_:t}));return new e(xe.apply(null,n))}var o=t.map((function(e){return ye(e)?pe(ce.RAW,e).data:e.data_})),i=0;o.forEach((function(e){i+=e.byteLength}));var a=new Uint8Array(i),s=0;return o.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Te=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var r;try{r=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===r.path)return r;throw new Q("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var r=null,n="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}for(var a=J.replace(/[.]/g,"\\."),s=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var p=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),r=new e(p,f),c.postModify(r);break}}if(null==r)throw function(e){return new Q("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}();function Se(e){var t,r;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(r=t)||Array.isArray(r)?null:t}function Pe(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ae(e){return"https://"+J+"/v0"+e}function Ce(e){var t=encodeURIComponent,r="?";for(var n in e)e.hasOwnProperty(n)&&(r=r+(t(n)+"=")+t(e[n])+"&");return r.slice(0,-1)}function Ie(e,t){return t}var Ue=function(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||Ie},Le=null;function je(){if(Le)return Le;var e=[];e.push(new Ue("bucket")),e.push(new Ue("generation")),e.push(new Ue("metageneration")),e.push(new Ue("name","fullPath",!0));var t=new Ue("name");t.xform=function(e,t){return function(e){return!ye(e)||e.length<2?e:Pe(e)}(t)},e.push(t);var r=new Ue("size");return r.xform=function(e,t){return void 0!==t?Number(t):t},e.push(r),e.push(new Ue("timeCreated")),e.push(new Ue("updated")),e.push(new Ue("md5Hash",null,!0)),e.push(new Ue("cacheControl",null,!0)),e.push(new Ue("contentDisposition",null,!0)),e.push(new Ue("contentEncoding",null,!0)),e.push(new Ue("contentLanguage",null,!0)),e.push(new Ue("contentType",null,!0)),e.push(new Ue("metadata","customMetadata",!0)),Le=e}function Ne(e,t,r){var n=Se(t);return null===n?null:function(e,t,r){for(var n={type:"file"},o=r.length,i=0;i<o;i++){var a=r[i];n[a.local]=a.xform(n,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var r=e.bucket,n=e.fullPath,o=new Te(r,n);return t._makeStorageReference(o)}})}(n,e),n}(e,n,r)}function De(e,t){for(var r={},n=t.length,o=0;o<n;o++){var i=t[o];i.writable&&(r[i.server]=e[i.local])}return JSON.stringify(r)}var Be=function(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Fe(e){if(!e)throw te()}function ze(e,t){return function(r,n){var o=Ne(e,n,t);return Fe(null!==o),o}}function Me(e){return function(t,r){var n,o,i;return 401===t.getStatus()?n=new Q("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,n=new Q("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,n=new Q("unauthorized","User does not have permission to access '"+o+"'.")):n=r,n.serverResponse=r.serverResponse,n}}function He(e){var t=Me(e);return function(r,n){var o,i=t(r,n);return 404===r.getStatus()&&(o=e.path,i=new Q("object-not-found","Object '"+o+"' does not exist.")),i.serverResponse=n.serverResponse,i}}function qe(e,t,r){var n=Ae(t.fullServerUrl()),o=e.maxOperationRetryTime,i=new Be(n,"GET",ze(e,r),o);return i.errorHandler=He(t),i}function Ge(e,t,r,n,o){var i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",r&&r.length>0&&(i.delimiter=r),n&&(i.pageToken=n),o&&(i.maxResults=o);var a=Ae(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new Be(a,"GET",function(e,t){return function(r,n){var o=function(e,t,r){var n=Se(r);return null===n?null:function(e,t,r){var n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r.prefixes)for(var o=0,i=r.prefixes;o<i.length;o++){var a=i[o].replace(/\/$/,""),s=e._makeStorageReference(new Te(t,a));n.prefixes.push(s)}if(r.items)for(var u=0,c=r.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Te(t,l.name)),n.items.push(s)}return n}(e,t,n)}(e,t,n);return Fe(null!==o),o}}(e,t.bucket),s);return u.urlParams=i,u.errorHandler=Me(t),u}function Ve(e,t,r){var n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),n}var We=function(e,t,r,n){this.current=e,this.total=t,this.finalized=!!r,this.metadata=n||null};function Xe(e,t){var r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Fe(!1)}return Fe(!!r&&-1!==(t||["active"]).indexOf(r)),r}var $e=262144;var Ke=function(e,t,r){if("function"==typeof e||null!=t||null!=r)this.next=e,this.error=t,this.complete=r;else{var n=e;this.next=n.next,this.error=n.error,this.complete=n.complete}};function Ze(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Ye=function(){function e(e,t,r){var n=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=je(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){n._request=void 0,n._chunkMultiplier=1,e._codeEquals("canceled")?(n._needToFetchStatus=!0,n.completeTransitions_()):(n._error=e,n._transition("error"))},this._metadataErrorHandler=function(e){n._request=void 0,e._codeEquals("canceled")?n.completeTransitions_():(n._error=e,n._transition("error"))},this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t,n._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(r){return e._updateProgress(t+r)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(r){switch(t._state){case"running":e(r);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var r=function(e,t,r,n,o){var i=t.bucketOnlyServerUrl(),a=Ve(t,n,o),s={name:a.fullPath},u=Ae(i),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":n.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=De(a,r),p=e.maxUploadRetryTime,f=new Be(u,"POST",(function(e){var t;Xe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Fe(!1)}return Fe(ye(t)),t}),p);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Me(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),n=e._ref.storage._makeRequest(r,t);e._request=n,n.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(r){var n=function(e,t,r,n){var o=e.maxUploadRetryTime,i=new Be(r,"POST",(function(e){var t=Xe(e,["active","final"]),r=null;try{r=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Fe(!1)}r||Fe(!1);var o=Number(r);return Fe(!isNaN(o)),new We(o,n.size(),"final"===t)}),o);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Me(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=$e*this._chunkMultiplier,r=new We(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((function(o){var i;try{i=function(e,t,r,n,o,i,a,s){var u=new We(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=n.size()),n.size()!==u.total)throw new Q("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;o>0&&(l=Math.min(l,o));var p=u.current,f=p+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=n.slice(p,f);if(null===d)throw ne();var g=t.maxUploadRetryTime,v=new Be(r,"POST",(function(e,r){var o,a=Xe(e,["active","final"]),s=u.current+l,c=n.size();return o="final"===a?ze(t,i)(e,r):null,new We(s,c,"final"===a,o)}),g);return v.headers=h,v.body=d.uploadData(),v.progressCallback=s||null,v.errorHandler=Me(e),v}(e._ref._location,e._ref.storage,n,e._blob,t,e._mappings,r,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(i,o);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){$e*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var r=qe(e._ref.storage,e._ref._location,e._mappings),n=e._ref.storage._makeRequest(r,t);e._request=n,n.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var r=function(e,t,r,n,o){var i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ve(t,n,o),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+De(u,r)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",p=Ee.getBlob(c,n,l);if(null===p)throw ne();var f={name:u.fullPath},h=Ae(i),d=e.maxUploadRetryTime,g=new Be(h,"POST",ze(e,r),d);return g.urlParams=f,g.headers=a,g.body=p.uploadData(),g.errorHandler=Me(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),n=e._ref.storage._makeRequest(r,t);e._request=n,n.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=re(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=me(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,r,n){var o=this,i=new Ke(t,r,n);return this._addObserver(i),function(){o._removeObserver(i)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(me(this._state)){case ve.SUCCESS:Ze(this._resolve.bind(null,this.snapshot))();break;case ve.CANCELED:case ve.ERROR:Ze(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(me(this._state)){case ve.RUNNING:case ve.PAUSED:e.next&&Ze(e.next.bind(e,this.snapshot))();break;case ve.SUCCESS:e.complete&&Ze(e.complete.bind(e))();break;case ve.CANCELED:case ve.ERROR:e.error&&Ze(e.error.bind(e,this._error))();break;default:e.error&&Ze(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Je=function(){function e(e,t){this._service=e,this._location=t instanceof Te?t:Te.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,r){return new e(t,r)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Te(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Pe(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var r=new Te(this._location.bucket,t);return new e(this._service,r)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ae(e)},e}();function Qe(e){var t={prefixes:[],items:[]};return et(e,t).then((function(){return t}))}function et(e,t,r){return s(this,void 0,void 0,(function(){var n,o,i;return u(this,(function(a){switch(a.label){case 0:return[4,tt(e,{pageToken:r})];case 1:return n=a.sent(),(o=t.prefixes).push.apply(o,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,et(e,t,n.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function tt(e,t){return s(this,void 0,void 0,(function(){var r,n,o;return u(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Oe("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return r=i.sent(),n=t||{},o=Ge(e.storage,e._location,"/",n.pageToken,n.maxResults),[2,e.storage._makeRequest(o,r).getPromise()]}}))}))}function rt(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=function(e,t,r){var n=Ae(t.fullServerUrl()),o=e.maxOperationRetryTime,i=new Be(n,"GET",function(e,t){return function(r,n){var o=Ne(e,n,t);return Fe(null!==o),function(e,t){var r=Se(t);if(null===r)return null;if(!ye(r.downloadTokens))return null;var n=r.downloadTokens;if(0===n.length)return null;var o=encodeURIComponent;return n.split(",").map((function(t){var r=e.bucket,n=e.fullPath;return Ae("/b/"+o(r)+"/o/"+o(n))+Ce({alt:"media",token:t})}))[0]}(o,n)}}(e,r),o);return i.errorHandler=He(t),i}(e.storage,e._location,je()),[2,e.storage._makeRequest(r,t).getPromise().then((function(e){if(null===e)throw new Q("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function nt(e,t){var r=function(e,t){var r=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?r:e+"/"+r}(e._location.path,t),n=new Te(e._location.bucket,r);return new Je(e.storage,n)}var ot=function(){function e(e,t,r){this._delegate=e,this.task=t,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),it=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ot(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var r=this;return this._delegate.then((function(t){if(e)return e(new ot(t,r,r._ref))}),t)},e.prototype.on=function(e,t,r,n){var o=this,i=void 0;return t&&(i="function"==typeof t?function(e){return t(new ot(e,o,o._ref))}:{next:t.next?function(e){return t.next(new ot(e,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,r||void 0,n||void 0)},e}(),at=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new st(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new st(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),st=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(nt(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new it(function(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new Ye(e,new Ee(t),r)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,r){void 0===t&&(t=ce.RAW),this._throwIfRoot("putString");var n=pe(t,e),o=a({},r);return null==o.contentType&&null!=n.contentType&&(o.contentType=n.contentType),new it(new Ye(this._delegate,new Ee(n.data,!0),o),this)},e.prototype.listAll=function(){var e=this;return Qe(this._delegate).then((function(t){return new at(t,e.storage)}))},e.prototype.list=function(e){var t=this;return tt(this._delegate,e).then((function(e){return new at(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=qe(e.storage,e._location,je()),[2,e.storage._makeRequest(r,t).getPromise()]}}))}))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return s(this,void 0,void 0,(function(){var r,n;return u(this,(function(o){switch(o.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return r=o.sent(),n=function(e,t,r,n){var o=Ae(t.fullServerUrl()),i=De(r,n),a=e.maxOperationRetryTime,s=new Be(o,"PATCH",ze(e,n),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=i,s.errorHandler=He(t),s}(e.storage,e._location,t,je()),[2,e.storage._makeRequest(n,r).getPromise()]}}))}))}(this._delegate,e)},e.prototype.getDownloadURL=function(){return rt(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=function(e,t){var r=Ae(t.fullServerUrl()),n=e.maxOperationRetryTime,o=new Be(r,"DELETE",(function(e,t){}),n);return o.successCodes=[200,204],o.errorHandler=He(t),o}(e.storage,e._location),[2,e.storage._makeRequest(r,t).getPromise()]}}))}))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ae(e)},e}(),ut=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),ct=function(){function e(e,t,r,n,o,i,a,s,u,c,l){var p=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){p.resolve_=e,p.reject_=t,p.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,r){var n,o=e.resolve_,i=e.reject_,a=r.xhr;if(r.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?o(s):o()}catch(e){i(e)}else null!==a?((n=te()).serverResponse=a.getResponseText(),e.errorCallback_?i(e.errorCallback_(a,n)):i(n)):r.canceled?i(n=e.appDelete_?ie():re()):i(n=new Q("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new lt(!1,null,!0)):this.backoffId_=function(t,r,n){var o=1,i=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,r.apply(null,e))}function f(t){i=setTimeout((function(){i=null,function(t,r){if(r)t(!1,new lt(!1,null,!0));else{var n=e.pool_.createXhrIo();e.pendingXhr_=n,null!==e.progressCallback_&&n.addUploadProgressListener(o),n.send(e.url_,e.method_,e.body_,e.headers_).then((function(r){null!==e.progressCallback_&&r.removeUploadProgressListener(o),e.pendingXhr_=null;var n=(r=r).getErrorCode()===de.NO_ERROR,i=r.getStatus();if(n&&!e.isRetryStatusCode_(i)){var a=-1!==e.successCodes_.indexOf(i);t(!0,new lt(a,r))}else{var s=r.getErrorCode()===de.ABORT;t(!1,new lt(!1,null,s))}}))}function o(t){var r=t.loaded,n=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(r,n)}}(h,u())}),t)}function h(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!c)if(e)l.call.apply(l,p([null,e],t));else{var n;u()||a?l.call.apply(l,p([null,e],t)):(o<64&&(o*=2),1===s?(s=2,n=0):n=1e3*(o+Math.random()),f(n))}}var d=!1;function g(e){d||(d=!0,c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),setTimeout((function(){a=!0,g(!0)}),n),g}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),n=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||n},e}(),lt=function(e,t,r){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!r};function pt(e){return/^[A-Za-z]+:\/\//.test(e)}function ft(e,t){if(e instanceof vt){var r=e;if(null==r._bucket)throw new Q("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var n=new Je(r,r._bucket);return null!=t?ft(n,t):n}if(void 0!==t){if(t.includes(".."))throw oe('`path` param cannot contain ".."');return nt(e,t)}return e}function ht(e,t){if(t&&pt(t)){if(e instanceof vt)return new Je(e,t);throw oe("To use ref(service, url), the first argument must be a Storage instance.")}return ft(e,t)}var dt,gt,vt=function(){function e(e,t,r,n,o){var i,a;this.app=e,this._authProvider=t,this._pool=r,this._url=n,this._firebaseVersion=o,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?Te.makeFromBucketSpec(n):null==(a=null==(i=this.app.options)?void 0:i.storageBucket)?null:Te.makeFromBucketSpec(a)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Oe("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Oe("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(r){switch(r.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=r.sent()))return[2,t.accessToken];r.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Je(this,e)},e.prototype._makeRequest=function(e,t){var r=this;if(this._deleted)return new ut(ie());var n=function(e,t,r,n,o){var i=Ce(e.urlParams),a=e.url+i,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,r),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,o),new ct(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(n),n.getPromise().then((function(){return r._requests.delete(n)}),(function(){return r._requests.delete(n)})),n},e}(),mt=function(){function e(e,t){var r=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(pt(e))throw oe("ref() expected a child path but got a URL, use refFromURL instead.");return new st(ht(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!pt(e))throw oe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Te.makeFromUrl(e)}catch(e){throw oe("refFromUrl() expected a valid full URL but got an invalid one.")}return new st(ht(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}();gt={TaskState:ve,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ce,Storage:vt,Reference:st},(dt=Y).INTERNAL.registerComponent(new k("storage",(function(e,t){var r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal");return new mt(r,new vt(r,n,new be,t,Y.SDK_VERSION))}),"PUBLIC").setServiceProps(gt).setMultipleInstances(!0)),dt.registerVersion("@firebase/storage","0.4.3");const _t=(e,t=[],r)=>{const n=document.createElement(e);return t.length&&n.classList.add(...t),r&&(n.textContent=r),n},bt=()=>{};Y.initializeApp({apiKey:"AIzaSyBQcvXIkhAWhj4qU8zKBrrKYPr-TFoNAAQ",authDomain:"frontend-upload-6220b.firebaseapp.com",projectId:"frontend-upload-6220b",storageBucket:"frontend-upload-6220b.appspot.com",messagingSenderId:"71365847039",appId:"1:71365847039:web:d560b3dd5f83cb537da9ca"});const yt=Y.storage();!function(e,t={}){let r=[];const n=t.onUpload??bt,o=document.querySelector(e),i=_t("div",["preview"]),a=_t("button",["btn"],"Открыть"),s=_t("button",["btn","primary"],"Загрузить");s.style.display="none",t.multi&&o.setAttribute("multiple",!0),t.accept&&Array.isArray(t.accept)&&o.setAttribute("accept",t.accept.join(",")),o.insertAdjacentElement("afterend",i),o.insertAdjacentElement("afterend",s),o.insertAdjacentElement("afterend",a);const u=e=>{e.style.bottom="4px",e.innerHTML='<div class="preview-info-progress"></div>'};a.addEventListener("click",(()=>{o.click()})),o.addEventListener("change",(e=>{e.target.files.length&&(r=Array.from(e.target.files),i.innerHTML="",s.style.display="inline",r.forEach((e=>{if(!e.type.match("image"))return;const t=new FileReader;t.onload=t=>{const r=t.target.result;i.insertAdjacentHTML("afterbegin",`\n        <div class="preview-image">\n        <div class="preview-remove" data-name="${e.name}">&times;</div>\n            <img src="${r}" alt="${e.name}" />\n            <div class="preview-info">\n            <span>${e.name.substring(0,15)}</span>\n            ${function(e,t=2){if(0===e)return"0 Bytes";const r=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}(e.size)}\n            </div>\n            </div>\n        `)},t.readAsDataURL(e)})))})),i.addEventListener("click",(e=>{if(!e.target.dataset.name)return;const{name:t}=e.target.dataset;r=r.filter((e=>e.name!==t)),r.length||(s.style.display="none");const n=i.querySelector(`[data-name="${t}"]`).closest(".preview-image");n.classList.add("removing"),setTimeout((()=>n.remove()),300)})),s.addEventListener("click",(()=>{i.querySelectorAll(".preview-remove").forEach((e=>e.remove()));const e=i.querySelectorAll(".preview-info");e.forEach(u),n(r,e)}))}("#file",{multi:!0,accept:[".png",".jpeg",".jpg",".gif"],onUpload(e,t){e.forEach(((e,r)=>{const n=yt.ref(`images/${e.name}`).put(e);n.on("state_changed",(e=>{const n=(e.bytesTransferred/e.totalBytes*100).toFixed(0)+"%",o=t[r].querySelector(".preview-info-progress");o.textContent=n,o.style.width=n}),(e=>{console.log(e)}),(()=>{n.snapshot.ref.getDownloadURL().then((e=>{console.log("Download URL:",e)}))}))}))}})})()})();